(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6595e97e"],{"0e0c":function(t,o,e){},"12ae":function(t,o){t.exports="data:image/gif;base64,R0lGODlhEgASAIABAKa4zP///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJAwABACwAAAAAEgASAEACJwyOoYa3D6N8rVqgLp5M2+x9XcWBTTmGTqqa6qqxFInWUMzhk76TBQAh+QQJAwABACwAAAAAEgASAEACKQyOoYa3D6NUrdHqGJ44d3B9m1ZNZGZ+YXmKnsuq44qaNqSmnZ3rllIAACH5BAkDAAEALAAAAAASABIAQAIpDI6hhrcPo2zt0cRuvG5xoHxfyE2UZJWeKrLtmZ3aWqG2OaOjvfPwUgAAIfkECQMAAQAsAAAAABIAEgBAAigMjqGGtw8jbC3SxO67bnLFhQD4bZRkap4qli37qWSF1utZh7a+41ABACH5BAkDAAEALAAAAAASABIAQAIqDI6hhrcP42pNMgoUdpfanXVgJSaaZ53Yt6kj+a6lI7tcioN5m+o7KSkAACH5BAkDAAEALAAAAAASABIAQAIoDI6hhrcPI2tOKpom3vZyvVEeBgLdKHYhGjZsW63kMp/Sqn4WnrtnAQAh+QQJAwABACwAAAAAEgASAEACKAyOocvtCCN0TB5lM6Ar92hYmChxX2l6qRhqYAui8GTOm8rhlL6/ZgEAIfkECQMAAQAsAAAAABIAEgBAAigMjqHL7QgjdEyeJY2leHOdgZF4KdYJfGTynaq7XmGctuicwZy+j2oBACH5BAkDAAEALAAAAAASABIAQAInDI6hy+0II3RMHrosUFpjbmUROJFdiXmfmoafMZoodUpyLU5sO1MFACH5BAkDAAEALAAAAAASABIAQAImDI6hy+2GDozyKZrspBf7an1aFy2fuJ1Z6I2oho2yGqc0SYN1rRUAIfkECQMAAQAsAAAAABIAEgBAAiYMjqHL7W+QVLJaAOnVd+eeccliRaXZVSH4ee0Uxg+bevUJnuIRFAAh+QQJAwABACwAAAAAEgASAEACKoyBacvtnyI4EtH6QrV6X5l9UYgt2DZ1JRqqIOm1ZUszrIuOeM6x8x4oAAAh+QQJAwABACwAAAAAEgASAEACKIwNqcftryJAMrFqG55hX/wcnlN9UQeipZiGo9vCZ0hD6TbiN7hSZwEAIfkECQMAAQAsAAAAABIAEgBAAiiMH6CL7Z+WNHK2yg5WdLsNQB12VQgJjmZJiqnriZEl1y94423aqlwBACH5BAkDAAEALAAAAAASABIAQAIrjH+gi+2+IjCSvaoo1vUFPHnfxlllBp5mk4qt98KSSKvZCHZ4HtmTrgoUAAAh+QQFAwABACwAAAAAEgASAEACKIyPAcvpr5g0csJYc8P1cgtpwDceGblQmiey69W6oOfEon2f6KirUwEAIfkECQMAAQAsAAAPAAgAAwBAAgSMj6lXACH5BAkDAAEALAAAAAASABIAQAIYjI+JwK0Po5y02glUvrz7bzXiBpbLaD4FACH5BAkDAAEALAAAAAASABIAQAImjI8By8qfojQPTldzw/VymB3aCIidN6KaGl7kSnWpC6ftt00zDRUAIfkECQMAAQAsAAAAABIAEgBAAiaMjwHLyp+iNA9WcO6aVHOneWBYZeUXouJEiu1lWit7jhCX4rMEFwAh+QQJAwABACwAAAAAEgASAEACJ4yPAcvKn6I0r1pA78zWQX51XrWBSzl+Uxia7Jm+mEujW3trubg3BQAh+QQFAwABACwAAAAAEgASAEACJwyOoYa3D6N8rVqgLp5M2+x9XcWBTTmGTqqa6qqxFInWUMzhk76TBQA7"},"1dde":function(t,o,e){var s=e("d039"),i=e("b622"),n=e("2d00"),a=i("species");t.exports=function(t){return n>=51||!s((function(){var o=[],e=o.constructor={};return e[a]=function(){return{foo:1}},1!==o[t](Boolean).foo}))}},"4d10":function(t,o,e){"use strict";var s=e("cccd"),i=e.n(s);i.a},"58cc":function(t,o,e){"use strict";e.r(o);var s=function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",[t.popShow?s("Popbox",{attrs:{content:t.content}},[t._t("default")],2):t._e(),s("van-sticky",[s("van-row",{staticClass:"head"},[s("van-col",{attrs:{span:"22",offset:"1"}},[s("a",{staticClass:"clear",attrs:{href:"#"}},[s("span",{staticClass:"iconfont icon-back-copy-copy fl",on:{click:t.go}}),s("span",{staticClass:"fl"},[t._v("详情")])])])],1)],1),t.loadingShow?s("div",{staticClass:"loading"},[s("img",{attrs:{src:e("12ae"),alt:""}})]):t._e(),0!=t.bookDetails.length?s("van-row",{staticClass:"book"},[s("van-col",{attrs:{span:"22",offset:"1"}},[s("div",{staticClass:"top clear"},[s("div",{staticClass:"left fl"},[s("img",{attrs:{src:t.imgKey(t.bookDetails.cover),alt:""}})]),s("div",{staticClass:"right fl"},[s("h5",[t._v(t._s(t.bookDetails.title))]),s("span",[t._v(" "+t._s(t.bookDetails.author)+" | "),s("i",[t._v(t._s(t.bookDetails.copyright))])]),s("span",[t._v(" 5书币/千字 | "),s("i",[t._v(t._s(t.bookDetails.chaptersCount)+"万字")])]),s("span",t._l(t.bookDetails.tags,(function(o,e){return s("i",{key:e},[t._v(t._s(o))])})),0)])])])],1):t._e(),0!=t.bookDetails.length?s("van-row",{staticClass:"about"},[s("van-col",{attrs:{span:"22",offset:"1"}},[s("h3",[t._v("简介")]),s("div",{staticClass:"content",class:{show:t.addClass}},[t._v(t._s(t.bookDetails.longIntro))]),t.addClass?s("span",{staticClass:"iconfont icon-Down fr",on:{click:t.iconDown}}):t._e(),t.addClass?t._e():s("span",{staticClass:"iconfont icon-shangla1 fr",on:{click:t.iconUp}})])],1):t._e(),0!=t.bookDetails.length?s("van-row",{staticClass:"more"},[s("van-col",{attrs:{span:"22",offset:"1"}},[s("h3",[t._v("相关推荐")]),s("div",{staticClass:"swiper-container"},[0!=t.recommendation.length?s("div",{staticClass:"swiper-wrapper"},t._l(t.recommendation,(function(o,e){return s("div",{key:e,staticClass:"swiper-slide"},[s("div",{staticClass:"about",on:{click:function(o){return t.navRecommendation(e)}}},[s("img",{attrs:{src:t.imgKey(o.cover),alt:""}}),s("span",[t._v(t._s(o.title))])])])})),0):t._e(),s("div",{staticClass:"swiper-pagination"})])])],1):t._e(),0!=t.bookTake.length?s("van-row",{staticClass:"take"},[s("van-col",{attrs:{span:"22",offset:"1"}},[s("h3",[t._v("热门短评")]),s("div",{staticClass:"box"},[s("ul",t._l(t.bookTake,(function(o,e){return s("li",{key:e},[s("div",{staticClass:"top"},[s("img",{staticClass:"fl",attrs:{src:t.imgKey(t.bookDetails.cover),alt:""}}),s("span",[t._v(t._s(o.author.nickname))])]),s("div",{staticClass:"content"},[t._v(t._s(o.content?o.content:o.title))])])})),0)])])],1):t._e(),0!=t.bookDetails.length?s("div",{staticClass:"btn"},[s("button",{class:{success:t.addFoo},on:{click:function(o){return t.add(t.bookDetails)}}},[t._v(t._s(t.addText))]),s("button",{on:{click:t.navRead}},[t._v("开始阅读")])]):t._e()],1)},i=[],n=(e("fb6a"),e("b0c0"),function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"pop"},[e("div",{staticClass:"box"},[e("div",{staticClass:"small"},[t._v(t._s(t.content))])])])}),a=[],A={props:["content"]},c=A,r=(e("d00d"),e("2877")),l=Object(r["a"])(c,n,a,!1,null,"06eb492d",null),d=l.exports,h=e("b619"),u={data:function(){return{bookId:"",bookDetails:[],addClass:!0,bookTake:[],loadingShow:!0,popShow:!1,content:"",keyWord:this.$route.query.title,recommendation:[],keyword:this.$route.query.keyword,name:this.$route.query.name,router:this.$route.query.router,addFoo:!1,addText:"+ 书架"}},beforeCreate:function(){},mounted:function(){},updated:function(){new h["default"](".swiper-container",{speed:2500,slidesPerView:3,spaceBetween:10})},created:function(){if(console.log(this.$route.query),this.bookId=this.$route.query.id,this.$store.state.titleShow=!1,this.getBookDetails(),this.getRecommendation(),0!==this.$store.state.myList.length){console.log(this.$store.state.myList[0]._id,"myList");for(var t=this.$store.state.myList,o=0;o<t.length;o++)t[o]._id===this.$route.query.id&&(this.addFoo=!0,this.addText="已添加")}},beforeDestroy:function(){},methods:{getBookDetails:function(){var t=this;this.loadingShow=!0,this.axios.get("https://api.kele8.cn/agent/http://novel.kele8.cn/book-info/"+this.bookId,{}).then((function(o){console.log(o.data),t.bookDetails=o.data,t.getTake()})).catch((function(t){console.log(t)}))},getTake:function(){var t=this;this.axios.get("https://api.kele8.cn/agent/http://novel.kele8.cn/book/discussions?book="+this.bookId,{}).then((function(o){console.log(o.data),t.bookTake=o.data.posts,t.loadingShow=!1})).catch((function(t){console.log(t)}))},getRecommendation:function(){var t=this;this.axios.get("http://novel.kele8.cn/recommend/"+this.bookId,{}).then((function(o){console.log(o.data),t.recommendation=o.data.books})).catch((function(t){console.log(t)}))},navRecommendation:function(t){if(window.scroll(0,0),this.bookId=this.recommendation[t]._id,this.getBookDetails(),0!==this.$store.state.myList.length)for(var o=this.$store.state.myList,e=0;e<o.length;e++)o[e]._id===this.recommendation[t]._id?(this.addFoo=!0,this.addText="已添加"):(this.addFoo=!1,this.addText="+ 书架")},imgKey:function(t){return unescape(t).slice(7)},iconUp:function(){this.addClass=!0},iconDown:function(){this.addClass=!1},navRead:function(){this.$router.push({name:"read",query:{id:this.bookId,keyword:this.keyword,name:this.name,router:this.router}})},pop:function(){var t=this;this.popShow=!0,setTimeout((function(){t.popShow=!1}),1e3)},add:function(){if(this.addFoo=!0,this.addText="已添加",0==this.$store.state.myList.length)this.$store.state.myList.push(this.bookDetails),this.content="添加成功!",this.pop();else{var t=this.$store.state.myList,o=this.$store.state.myList.length-1;if(t[o]._id==this.bookDetails._id)return this.content="已经添加过了!",void this.pop();this.$store.state.myList.push(this.bookDetails),this.content="添加成功!",this.pop()}},go:function(){this.$store.state.foo=!0,this.$router.push({name:this.router,query:{keyword:this.keyword,name:this.name}})}},components:{Popbox:d}},f=u,p=(e("4d10"),Object(r["a"])(f,s,i,!1,null,"245b54e6",null));o["default"]=p.exports},8418:function(t,o,e){"use strict";var s=e("c04e"),i=e("9bf2"),n=e("5c6c");t.exports=function(t,o,e){var a=s(o);a in t?i.f(t,a,n(0,e)):t[a]=e}},ae40:function(t,o,e){var s=e("83ab"),i=e("d039"),n=e("5135"),a=Object.defineProperty,A={},c=function(t){throw t};t.exports=function(t,o){if(n(A,t))return A[t];o||(o={});var e=[][t],r=!!n(o,"ACCESSORS")&&o.ACCESSORS,l=n(o,0)?o[0]:c,d=n(o,1)?o[1]:void 0;return A[t]=!!e&&!i((function(){if(r&&!s)return!0;var t={length:-1};r?a(t,1,{enumerable:!0,get:c}):t[1]=1,e.call(t,l,d)}))}},b0c0:function(t,o,e){var s=e("83ab"),i=e("9bf2").f,n=Function.prototype,a=n.toString,A=/^\s*function ([^ (]*)/,c="name";s&&!(c in n)&&i(n,c,{configurable:!0,get:function(){try{return a.call(this).match(A)[1]}catch(t){return""}}})},cccd:function(t,o,e){},d00d:function(t,o,e){"use strict";var s=e("0e0c"),i=e.n(s);i.a},e8b5:function(t,o,e){var s=e("c6b6");t.exports=Array.isArray||function(t){return"Array"==s(t)}},fb6a:function(t,o,e){"use strict";var s=e("23e7"),i=e("861d"),n=e("e8b5"),a=e("23cb"),A=e("50c4"),c=e("fc6a"),r=e("8418"),l=e("b622"),d=e("1dde"),h=e("ae40"),u=d("slice"),f=h("slice",{ACCESSORS:!0,0:0,1:2}),p=l("species"),g=[].slice,v=Math.max;s({target:"Array",proto:!0,forced:!u||!f},{slice:function(t,o){var e,s,l,d=c(this),h=A(d.length),u=a(t,h),f=a(void 0===o?h:o,h);if(n(d)&&(e=d.constructor,"function"!=typeof e||e!==Array&&!n(e.prototype)?i(e)&&(e=e[p],null===e&&(e=void 0)):e=void 0,e===Array||void 0===e))return g.call(d,u,f);for(s=new(void 0===e?Array:e)(v(f-u,0)),l=0;u<f;u++,l++)u in d&&r(s,l,d[u]);return s.length=l,s}})}}]);
//# sourceMappingURL=chunk-6595e97e.d6a61ddf.js.map